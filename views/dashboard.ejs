<div id="root"></div>

<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
<script src="/utility.js"></script>

<script>
  var _mainList = <%- JSON.stringify(rooms) %>;

  window.ready(function () {

    var es = new EventSource('/stream');
    es.onmessage = function (event) {
      const data = JSON.parse(event.data);
      console.log(data);
      if (Array.isArray(data)) {
        RoomList.updateList(data);
      }
    };
  })
</script>

<script type="text/babel" src="/dashboard.js">
</script>